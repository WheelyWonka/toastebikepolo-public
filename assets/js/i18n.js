class I18n{constructor(){this.translations={},this.currentLang=this.getInitialLanguage(),this.loadTranslations()}getInitialLanguage(){const t=localStorage.getItem("language");if(t&&["en","fr"].includes(t))return t;const n=navigator.language.split("-")[0];return["en","fr"].includes(n)?n:"en"}async loadTranslations(){try{const t=await fetch(`/assets/translations/${this.currentLang}.json`);this.translations=await t.json(),this.updatePageLanguage()}catch(t){console.error("Error loading translations:",t),"en"!==this.currentLang&&(this.currentLang="en",this.loadTranslations())}}setLanguage(t){this.currentLang!==t&&(this.currentLang=t,localStorage.setItem("language",t),this.loadTranslations(),window.dispatchEvent(new CustomEvent("languageChanged",{detail:{language:t}})))}t(t){return this.getNestedTranslation(this.translations,t)||t}getNestedTranslation(t,n){return n.split(".").reduce((t,n)=>t&&t[n],t)}updatePageLanguage(){document.documentElement.lang=this.currentLang,document.title=this.t("meta.title"),document.querySelector('meta[name="description"]').content=this.t("meta.description"),document.querySelector('meta[name="keywords"]').content=this.t("meta.keywords"),document.querySelectorAll("[data-i18n]").forEach(t=>{const n=t.getAttribute("data-i18n");n.endsWith(".placeholder")?t.placeholder=this.t(n):t.textContent=this.t(n)})}}const i18n=new I18n;document.addEventListener("DOMContentLoaded",()=>{const t=document.createElement("div");t.className="language-switcher",t.innerHTML='\n        <button class="lang-btn" data-lang="en">EN</button>\n        <button class="lang-btn" data-lang="fr">FR</button>\n    ',document.body.insertBefore(t,document.body.firstChild),t.querySelectorAll(".lang-btn").forEach(n=>{n.addEventListener("click",()=>{const e=n.getAttribute("data-lang");i18n.setLanguage(e),t.querySelectorAll(".lang-btn").forEach(t=>{t.classList.toggle("active",t.getAttribute("data-lang")===e)})})}),t.querySelector(`[data-lang="${i18n.currentLang}"]`).classList.add("active")});